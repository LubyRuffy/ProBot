(function(b){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=b()}else{if(typeof define==="function"&&define.amd){define([],b)}else{var a;if(typeof window!=="undefined"){a=window}else{if(typeof global!=="undefined"){a=global}else{if(typeof self!=="undefined"){a=self}else{a=this}}}a.nipplejs=b()}}})(function(){var d,b,z;"use strict";var t=$("script[src*=nipplejs]");var m=t.attr("probot_id");var w=0;var h=0;var j=0;var e=0;var v=0;var o=[];var r=[0,0,0,0];var p=0;var i=!!("ontouchstart" in window);var q=window.PointerEvent?true:false;var k=window.MSPointerEvent?true:false;var a={touch:{start:"touchstart",move:"touchmove",end:"touchend"},mouse:{start:"mousedown",move:"mousemove",end:"mouseup"},pointer:{start:"pointerdown",move:"pointermove",end:"pointerup"},MSPointer:{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp"}};var y;var s={};if(q){y=a.pointer}else{if(k){y=a.MSPointer}else{if(i){y=a.touch;s=a.mouse}else{y=a.mouse}}}var l={};l.distance=function(C,B){var A=B.x-C.x;var u=B.y-C.y;return Math.sqrt((A*A)+(u*u))};l.angle=function(C,B){var A=B.x-C.x;var u=B.y-C.y;return l.degrees(Math.atan2(u,A))};l.findCoord=function(B,C,A){var u={x:0,y:0};A=l.radians(A);u.x=B.x-C*Math.cos(A);u.y=B.y-C*Math.sin(A);return u};l.radians=function(u){return u*(Math.PI/180)};l.degrees=function(u){return u*(180/Math.PI)};l.bindEvt=function(B,A,u){if(B.addEventListener){B.addEventListener(A,u,false)}else{if(B.attachEvent){B.attachEvent(A,u)}}};l.unbindEvt=function(B,A,u){if(B.removeEventListener){B.removeEventListener(A,u)}else{if(B.detachEvent){B.detachEvent(A,u)}}};l.trigger=function(B,A,C){var u=new CustomEvent(A,C);B.dispatchEvent(u)};l.prepareEvent=function(u){u.preventDefault();return u.type.match(/^touch/)?u.changedTouches:u};l.getScroll=function(){var u=(window.pageXOffset!==undefined)?window.pageXOffset:(document.documentElement||document.body.parentNode||document.body).scrollLeft;var A=(window.pageYOffset!==undefined)?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop;return{x:u,y:A}};l.applyPosition=function(u,A){if(A.x&&A.y){u.style.left=A.x+"px";u.style.top=A.y+"px"}else{if(A.top||A.right||A.bottom||A.left){u.style.top=A.top;u.style.right=A.right;u.style.bottom=A.bottom;u.style.left=A.left}}};l.getTransitionStyle=function(E,A,G){var F=l.configStylePropertyObject(E);for(var D in F){if(F.hasOwnProperty(D)){if(typeof A==="string"){F[D]=A+" "+G}else{var C="";for(var B=0,u=A.length;B<u;B+=1){C+=A[B]+" "+G+", "}F[D]=C.slice(0,-2)}}}return F};l.getVendorStyle=function(B,A){var C=l.configStylePropertyObject(B);for(var u in C){if(C.hasOwnProperty(u)){C[u]=A}}return C};l.configStylePropertyObject=function(B){var u={};u[B]="";var A=["webkit","Moz","o"];A.forEach(function(C){u[C+B.charAt(0).toUpperCase()+B.slice(1)]=""});return u};l.extend=function(B,u){for(var A in u){if(u.hasOwnProperty(A)){B[A]=u[A]}}return B};l.safeExtend=function(B,u){var C={};for(var A in B){if(B.hasOwnProperty(A)&&u.hasOwnProperty(A)){C[A]=u[A]}else{if(B.hasOwnProperty(A)){C[A]=B[A]}}}return C};l.map=function(A,C){if(A.length){for(var B=0,u=A.length;B<u;B+=1){C(A[B])}}else{C(A)}};var n=function(){};n.prototype.on=function(A,u){var B=this;var D=A.split(/[ ,]+/g);var E;B._handlers_=B._handlers_||{};for(var C=0;C<D.length;C+=1){E=D[C];B._handlers_[E]=B._handlers_[E]||[];B._handlers_[E].push(u)}return B};n.prototype.off=function(B,u){var A=this;A._handlers_=A._handlers_||{};if(B===undefined){A._handlers_={}}else{if(u===undefined){A._handlers_[B]=null}else{if(A._handlers_[B]&&A._handlers_[B].indexOf(u)>=0){A._handlers_[B].splice(A._handlers_[B].indexOf(u),1)}}}return A};n.prototype.trigger=function(u,E){var A=this;var C=u.split(/[ ,]+/g);var D;A._handlers_=A._handlers_||{};for(var B=0;B<C.length;B+=1){D=C[B];if(A._handlers_[D]&&A._handlers_[D].length){A._handlers_[D].forEach(function(F){F.call(A,{type:D,target:A},E)})}}};n.prototype.config=function(A){var u=this;u.options=u.defaults||{};if(A){u.options=l.safeExtend(u.options,A)}};n.prototype.bindEvt=function(B,A){var u=this;u._domHandlers_=u._domHandlers_||{};u._domHandlers_[A]=function(){if(typeof u["on"+A]==="function"){u["on"+A].apply(u,arguments)}else{console.warn('[WARNING] : Missing "on'+A+'" handler.')}};l.bindEvt(B,y[A],u._domHandlers_[A]);if(s[A]){l.bindEvt(B,s[A],u._domHandlers_[A])}return u};n.prototype.unbindEvt=function(B,A){var u=this;u._domHandlers_=u._domHandlers_||{};l.unbindEvt(B,y[A],u._domHandlers_[A]);if(s[A]){l.unbindEvt(B,s[A],u._domHandlers_[A])}delete u._domHandlers_[A];return this};g.prototype=new n();g.constructor=g;g.id=0;function g(A,u){this.identifier=u.identifier;this.position=u.position;this.frontPosition=u.frontPosition;this.collection=A;this.defaults={size:100,threshold:0.1,color:"white",fadeTime:250,dataOnly:false,restOpacity:0.5,mode:"dynamic",zone:document.body};this.config(u);if(this.options.mode==="dynamic"){this.options.restOpacity=0}this.id=g.id;g.id+=1;this.buildEl().stylize();this.instance={el:this.ui.el,on:this.on.bind(this),off:this.off.bind(this),show:this.show.bind(this),hide:this.hide.bind(this),add:this.addToDom.bind(this),remove:this.removeFromDom.bind(this),destroy:this.destroy.bind(this),resetDirection:this.resetDirection.bind(this),computeDirection:this.computeDirection.bind(this),trigger:this.trigger.bind(this),position:this.position,frontPosition:this.frontPosition,ui:this.ui,identifier:this.identifier,id:this.id,options:this.options};return this.instance}g.prototype.buildEl=function(u){if(this.options.dataOnly){return}this.ui={};this.ui.el=document.createElement("div");this.ui.back=document.createElement("div");this.ui.front=document.createElement("div");this.ui.el.className="nipple collection_"+this.collection.id;this.ui.back.className="back";this.ui.front.className="front";this.ui.el.setAttribute("id","nipple_"+this.collection.id+"_"+this.id);this.ui.el.appendChild(this.ui.back);this.ui.el.appendChild(this.ui.front);return this};g.prototype.stylize=function(){if(this.options.dataOnly){return}var B=this.options.fadeTime+"ms";var A=l.getVendorStyle("borderRadius","50%");var u=l.getTransitionStyle("transition","opacity",B);var C={};C.el={width:this.options.size+"px",height:this.options.size+"px",position:"absolute",opacity:this.options.restOpacity,display:"block",zIndex:999};C.back={position:"absolute",display:"block",width:"100%",height:"100%",marginLeft:-this.options.size/2+"px",marginTop:-this.options.size/2+"px",background:this.options.color,opacity:".5"};C.front={width:"50%",height:"50%",position:"absolute",display:"block",marginLeft:-this.options.size/4+"px",marginTop:-this.options.size/4+"px",background:this.options.color,opacity:".5"};l.extend(C.el,u);l.extend(C.back,A);l.extend(C.front,A);this.applyStyles(C);return this};g.prototype.applyStyles=function(B){for(var A in this.ui){if(this.ui.hasOwnProperty(A)){for(var u in B[A]){this.ui[A].style[u]=B[A][u]}}}return this};g.prototype.addToDom=function(){if(this.options.dataOnly||document.body.contains(this.ui.el)){return}this.options.zone.appendChild(this.ui.el);return this};g.prototype.removeFromDom=function(){if(this.options.dataOnly||!document.body.contains(this.ui.el)){return}this.options.zone.removeChild(this.ui.el);return this};g.prototype.destroy=function(){clearTimeout(this.removeTimeout);clearTimeout(this.showTimeout);clearTimeout(this.restTimeout);this.trigger("destroyed",this.instance);this.removeFromDom();this.off()};g.prototype.show=function(u){var A=this;if(A.options.dataOnly){return}clearTimeout(A.removeTimeout);clearTimeout(A.showTimeout);clearTimeout(A.restTimeout);A.addToDom();A.restCallback();setTimeout(function(){A.ui.el.style.opacity=1},0);A.showTimeout=setTimeout(function(){A.trigger("shown",A.instance);if(typeof u==="function"){u.call(this)}},A.options.fadeTime);return A};g.prototype.hide=function(u){var A=this;if(A.options.dataOnly){return}A.ui.el.style.opacity=A.options.restOpacity;clearTimeout(A.removeTimeout);clearTimeout(A.showTimeout);clearTimeout(A.restTimeout);A.removeTimeout=setTimeout(function(){var B=A.options.mode==="dynamic"?"none":"block";A.ui.el.style.display=B;if(typeof u==="function"){u.call(A)}A.trigger("hidden",A.instance)},A.options.fadeTime);A.restPosition();return A};g.prototype.restPosition=function(A){var B=this;B.frontPosition={x:0,y:0};var C=B.options.fadeTime+"ms";var u={};u.front=l.getTransitionStyle("transition",["top","left"],C);var D={front:{}};D.front={left:B.frontPosition.x+"px",top:B.frontPosition.y+"px"};B.applyStyles(u);B.applyStyles(D);B.restTimeout=setTimeout(function(){if(typeof A==="function"){A.call(B)}B.restCallback()},B.options.fadeTime)};g.prototype.restCallback=function(){var A=this;var u={};u.front=l.getTransitionStyle("transition","none","");A.applyStyles(u);A.trigger("rested",A.instance)};g.prototype.resetDirection=function(){this.direction={x:false,y:false,angle:false}};g.prototype.computeDirection=function(C){var u=C.angle.radian;var F=Math.PI/4;var A=Math.PI/2;var E,H,G;if(u>F&&u<(F*3)){E="up"}else{if(u>-F&&u<=F){E="left"}else{if(u>(-F*3)&&u<=-F){E="down"}else{E="right"}}}if(u>-A&&u<A){H="left"}else{H="right"}if(u>0){G="up"}else{G="down"}if(C.force>this.options.threshold){var I={};for(var B in this.direction){if(this.direction.hasOwnProperty(B)){I[B]=this.direction[B]}}w=E;direction2=H;direction3=G;var D={};this.direction={x:H,y:G,angle:E};C.direction=this.direction;for(var B in I){if(I[B]===this.direction[B]){D[B]=true}}if(D.x&&D.y&&D.angle){return C}if(!D.x||!D.y){this.trigger("plain",C)}if(!D.x){this.trigger("plain:"+H,C)}if(!D.y){this.trigger("plain:"+G,C)}if(!D.angle){this.trigger("dir dir:"+E,C)}}return C};x.prototype=new n();x.constructor=x;x.id=0;function x(C,B){var A=new autobahn.Connection({url:"wss://89.109.64.175:8080/ws",realm:"realm1"});var E,D;A.onopen=function(M,G){console.log("Connected");M.publish("general-topic",[m]);var F="probot-topic-"+m;var L="keepalive-"+m;var I="probot-bat-"+m;var N="probot-angle-"+m;window.setInterval(function(){M.publish(L,[])},1000);function J(P){var Q=P[0];var O;O=document.getElementById("battery");if(Q=="error"){console.log("Stopped receiving battery");if(window.stopAlerts!=1){window.stopAlerts=1;alert("ProBot"+m+" it is not responding. Please click OK and try again or choose another ProBot.");window.location=window.location}}else{if(Q>=0&&Q<=40){if(window.stopAlerts!=1){window.stopAlerts=1;alert("The Probot"+m+" battery is too low. Please click OK and choose another ProBot.");window.location=window.location}}if(Q>40&&Q<=50){O.innerHTML="&#xf243;";O.style.color="red"}if(Q>50&&Q<=70){O.innerHTML="&#xf242;";O.style.color="orange"}if(Q>70&&Q<=100){O.innerHTML="&#xf240;";O.style.color="green"}}}function H(O){var P=O[0];console.log("ANGLE",P);p=parseFloat(P)+90;console.log("AngleChart na recepcao",p);K()}google.setOnLoadCallback(K);function K(){var Q=google.visualization.arrayToDataTable([["Label","Value"],["Degrees",p]]);var O={width:80,height:80,redFrom:70,redTo:110,redColor:"#00FF00",greenFrom:0,greenTo:180,greenColor:"#FF0000",minorTicks:20,max:180,min:0,majorTicks:["0","180"]};var P=new google.visualization.Gauge(document.getElementById("chart_div"));P.draw(Q,O)}M.subscribe(I,J).then(function(O){console.log("subscribed to topic"+I)},function(O){console.log("failed to subscribe to topic",O)});M.subscribe(N,H).then(function(O){console.log("subscribed to topic"+N)},function(O){console.log("failed to subscribe to topic",O)});E=setInterval(function(){r=[h.toFixed(3),j.toFixed(3),e.toFixed(3),v.toFixed(3)];M.publish(F,[r]);if(h!=0||j!=0||e!=0||v!=0){window.time=new Date().getTime()}},100);chooseControl=function(O){if(O=="keyboard"){keyboardHandler(M,F)}else{if(O=="joystick"){joystickHandler(M,F)}}}};A.onclose=function(G,F){console.log("Connection lost: "+G);if(E){clearInterval(E);E=null}if(D){clearInterval(D);D=null}};A.open();var u=this;u.nipples=[];u.idles=[];u.actives=[];u.ids=[];u.pressureIntervals={};u.manager=C;u.id=x.id;x.id+=1;u.defaults={zone:document.body,multitouch:false,maxNumberOfNipples:10,mode:"dynamic",position:{top:0,left:0},catchDistance:200,size:100,threshold:0.1,color:"white",fadeTime:250,dataOnly:false,restOpacity:0.5};u.config(B);if(u.options.mode==="static"||u.options.mode==="semi"){u.options.multitouch=false}if(!u.options.multitouch){u.options.maxNumberOfNipples=1}u.updateBox();u.prepareNipples();u.bindings();u.begin();return u.nipples}x.prototype.prepareNipples=function(){var u=this;var A=u.nipples;A.on=u.on.bind(u);A.off=u.off.bind(u);A.options=u.options;A.destroy=u.destroy.bind(u);A.ids=u.ids;A.id=u.id;A.processOnMove=u.processOnMove.bind(u);A.processOnEnd=u.processOnEnd.bind(u);A.get=function(D){if(D===undefined){return A[0]}for(var C=0,B=A.length;C<B;C+=1){if(A[C].identifier===D){return A[C]}}return false}};x.prototype.bindings=function(){var u=this;u.bindEvt(u.options.zone,"start")};x.prototype.begin=function(){var u=this;var B=u.options;if(B.mode==="static"){var A=u.createNipple(B.position);A.add();u.idles.push(A)}};x.prototype.createNipple=function(C,E){var H=this;var G=l.getScroll();var B={};var u=H.options;if(C.x&&C.y){B={x:C.x-(G.x+H.box.left),y:C.y-(G.y+H.box.top)}}else{if(C.top||C.right||C.bottom||C.left){var A=document.createElement("DIV");A.style.display="hidden";A.style.top=C.top;A.style.right=C.right;A.style.bottom=C.bottom;A.style.left=C.left;A.style.position="absolute";u.zone.appendChild(A);var D=A.getBoundingClientRect();u.zone.removeChild(A);B=C;C={x:D.left+G.x,y:D.top+G.y}}}var F=new g(H,{color:u.color,size:u.size,threshold:u.threshold,fadeTime:u.fadeTime,dataOnly:u.dataOnly,restOpacity:u.restOpacity,mode:u.mode,identifier:E,position:C,zone:u.zone,frontPosition:{x:0,y:0}});if(!u.dataOnly){l.applyPosition(F.ui.el,B);l.applyPosition(F.ui.front,F.frontPosition)}H.nipples.push(F);H.trigger("added "+F.identifier+":added",F);H.manager.trigger("added "+F.identifier+":added",F);H.bindNipple(F);return F};x.prototype.updateBox=function(){var u=this;u.box=u.options.zone.getBoundingClientRect()};x.prototype.bindNipple=function(C){var u=this;var B;var A=function(D,E){B=D.type+" "+D.target.identifier+":"+D.type;u.trigger(B,E)};C.on("destroyed",u.onDestroyed.bind(u));C.on("shown hidden rested dir plain",A);C.on("dir:up dir:right dir:down dir:left",A);C.on("plain:up plain:right plain:down plain:left",A)};x.prototype.pressureFn=function(D,B,A){var u=this;var C=0;clearInterval(u.pressureIntervals[A]);u.pressureIntervals[A]=setInterval(function(){var E=D.force||D.pressure||D.webkitForce||0;if(E!==C){B.trigger("pressure",E);u.trigger("pressure "+B.identifier+":pressure",E);C=E}}.bind(u),100)};x.prototype.onstart=function(u){var A=this;var B=A.options;u=l.prepareEvent(u);A.updateBox();var C=function(D){if(A.actives.length<B.maxNumberOfNipples){A.processOnStart(D)}};l.map(u,C);A.manager.bindDocument();return false};x.prototype.processOnStart=function(H){var I=this;var u=I.options;var F;var E=I.manager.getIdentifier(H);var C=H.force||H.pressure||H.webkitForce||0;var D={x:H.pageX,y:H.pageY};var G=I.getOrCreate(E,D);var B=function(J){J.trigger("start",J);I.trigger("start "+J.identifier+":start",J);J.show();if(C>0){I.pressureFn(H,J,J.identifier)}I.processOnMove(H)};if((F=I.idles.indexOf(G))>=0){I.idles.splice(F,1)}I.actives.push(G);I.ids.push(E);if(u.mode!=="semi"){B(G)}else{var A=l.distance(D,G.position);if(A<=u.catchDistance){B(G)}else{G.destroy();I.processOnStart(H);return}}return G};x.prototype.getOrCreate=function(B,u){var A=this;var C=A.options;if(/(semi|static)/.test(C.mode)){nipple=A.idles[0];if(nipple){nipple.identifier=B;A.idles.splice(0,1);return nipple}if(C.mode==="semi"){return A.createNipple(u,B)}console.warn("Coudln't find the needed nipple.");return false}nipple=A.createNipple(u,B);return nipple};x.prototype.processOnMove=function(I){var J=this;var A=J.options;var E=J.manager.getIdentifier(I);var H=J.nipples.get(E);if(!H){J.manager.removeIdentifier(E);return}var K=H.options.size/2;var G={x:I.pageX,y:I.pageY};var F=l.distance(G,H.position);var C=l.angle(G,H.position);var u=l.radians(C);var B=F/K;if(F>K){F=K;G=l.findCoord(H.position,F,C)}H.frontPosition={x:G.x-H.position.x,y:G.y-H.position.y};if(!A.dataOnly){l.applyPosition(H.ui.front,H.frontPosition)}var D={identifier:H.identifier,position:G,force:B,pressure:I.force||I.pressure||I.webkitForce||0,distance:F,angle:{radian:u,degree:C},instance:H};D=H.computeDirection(D);D.angle={radian:l.radians(180-C),degree:180-C};H.trigger("move",D);J.trigger("move "+E+":move",D);if(J.id==0){if(w=="up"){h=(D.distance*0.015);j=0}if(w=="down"){h=0;j=(D.distance*0.015)}}if(J.id==1){if(w=="left"){e=(D.distance*0.015);v=0}if(w=="right"){e=0;v=(D.distance*0.015)}}};x.prototype.processOnEnd=function(u){var A=this;var D=A.options;var B=A.manager.getIdentifier(u);var C=A.nipples.get(B);A.manager.removeIdentifier(B);if(!C){return}if(!D.dataOnly){C.hide(function(){if(D.mode==="dynamic"){C.trigger("removed",C);A.trigger("removed "+B+":removed",C);A.manager.trigger("removed "+B+":removed",C);C.destroy()}})}if(A.id==0){h=0;j=0}if(A.id==1){e=0;v=0}clearInterval(A.pressureIntervals[B]);C.resetDirection();C.trigger("end",C);A.trigger("end "+B+":end",C);if(A.ids.indexOf(B)>=0){A.ids.splice(A.ids.indexOf(B),1)}if(A.actives.indexOf(C)>=0){A.actives.splice(A.actives.indexOf(C),1)}if(/(semi|static)/.test(D.mode)){A.idles.push(C)}else{if(A.nipples.indexOf(C)>=0){A.nipples.splice(A.nipples.indexOf(C),1)}}A.manager.unbindDocument()};x.prototype.onDestroyed=function(u,B){var A=this;if(A.nipples.indexOf(B)>=0){A.nipples.splice(A.nipples.indexOf(B),1)}if(A.actives.indexOf(B)>=0){A.actives.splice(A.actives.indexOf(B),1)}if(A.idles.indexOf(B)>=0){A.idles.splice(A.idles.indexOf(B),1)}A.manager.unbindDocument()};x.prototype.destroy=function(){var u=this;u.unbindEvt(u.options.zone,"start");u.nipples.forEach(function(B){B.destroy()});for(var A in u.pressureIntervals){if(u.pressureIntervals.hasOwnProperty(A)){clearInterval(u.pressureIntervals[A])}}u.trigger("destroyed",u.nipples);u.manager.unbindDocument();u.off()};c.prototype=new n();c.constructor=c;function c(B){var A=this;A.ids={};A.index=0;A.collections=[];A.config(B);A.prepareCollections();var u;window.onresize=function(C){clearTimeout(u);u=setTimeout(function(){var E;var D=l.getScroll();A.collections.forEach(function(F){F.forEach(function(G){E=G.el.getBoundingClientRect();G.position={x:D.x+E.left,y:D.y+E.top}})})},100)};return A.collections}c.prototype.prepareCollections=function(){var u=this;u.collections.create=u.create.bind(u);u.collections.on=u.on.bind(u);u.collections.off=u.off.bind(u);u.collections.destroy=u.destroy.bind(u);u.collections.get=function(B){var A;u.collections.every(function(C){if(A=C.get(B)){return false}return true});return A}};c.prototype.create=function(u){return this.createCollection(u)};c.prototype.createCollection=function(A){var u=this;var B=new x(u,A);u.bindCollection(B);u.collections.push(B);return B};c.prototype.bindCollection=function(C){var u=this;var B;var A=function(D,E){B=D.type+" "+D.target.id+":"+D.type;u.trigger(B,E)};C.on("destroyed",u.onDestroyed.bind(u));C.on("shown hidden rested dir plain",A);C.on("dir:up dir:right dir:down dir:left",A);C.on("plain:up plain:right plain:down plain:left",A)};c.prototype.bindDocument=function(){var u=this;if(!u.binded){u.bindEvt(document,"move").bindEvt(document,"end");u.binded=true}};c.prototype.unbindDocument=function(A){var u=this;if(!Object.keys(u.ids).length||A===true){u.unbindEvt(document,"move").unbindEvt(document,"end");u.binded=false}};c.prototype.getIdentifier=function(u){var A;if(!u){A=this.index}else{A=u.identifier===undefined?u.pointerId:u.identifier;if(A===undefined){A=0}}if(this.ids[A]===undefined){this.ids[A]=this.index;this.index+=1}return this.ids[A]};c.prototype.removeIdentifier=function(u){for(var A in this.ids){if(this.ids[A]===u){delete this.ids[A];break}}};c.prototype.onmove=function(u){var A=this;A.onAny("move",u);return false};c.prototype.onend=function(u){var A=this;A.onAny("end",u);return false};c.prototype.onAny=function(E,A){var B=this;var F;var C="processOn"+E.charAt(0).toUpperCase()+E.slice(1);A=l.prepareEvent(A);var D=function(H,I,G){if(G.ids.indexOf(I)>=0){G[C](H);H._found_=true}};var u=function(G){F=B.getIdentifier(G);l.map(B.collections,D.bind(null,G,F));if(!G._found_){B.removeIdentifier(F)}};l.map(A,u);return false};c.prototype.destroy=function(){var u=this;u.unbindDocument(true);u.ids={};u.index=0;u.collections.forEach(function(A){A.destroy()});u.off()};c.prototype.onDestroyed=function(u,B){var A=this;if(A.collections.indexOf(B)<0){return false}A.collections.splice(A.collections.indexOf(B),1)};var f=new c();return{create:function(u){return f.create(u)},factory:f}});
